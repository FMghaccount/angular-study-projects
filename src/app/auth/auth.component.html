<ng-template appPlaceholder></ng-template>
<div class="row justify-content-center">
  <div class="col-12 col-md-6 align-self-center">
    <div class="text-center mt-5" *ngIf="isLoading && !error">
      <app-loading></app-loading>
    </div>
    <!-- <div *ngIf="!isLoading && error !== ''" class="mt-5 flex flex-column align-items-start alert alert-danger"
      role="alert">
      <h2 class="alert-heading">Error Occurred!</h2>
      <p>{{ error }}</p>
      <button class="btn btn-danger align-self-end" type="button" (click)="onOk()">Ok</button>
    </div> -->
    <!-- <app-alert [message]="error" *ngIf="error && !isLoading" (close)="onHandleError()"></app-alert> -->
    <div class="text-center mt-5" *ngIf="!isLoading && !error">
      <h3>{{ isLoginMode ? 'ورود' : 'ثبت نام' }}</h3>
    </div>
    <form class="mt-4" #form="ngForm" (ngSubmit)="onSubmit(form)" *ngIf="!isLoading && !error">
      <div class="form-group d-flex flex-column-reverse">
        <input type="email" id="email" #email="ngModel" ngModel name="email" required email class="form-control" />
        <label class="mb-1" for="email">ایمیل</label>
      </div>
      <p class="color-red mt-2" *ngIf="!email.valid && email.touched">لطفاً ایمیل را به درستی وارد کنید</p>
      <div class="form-group mt-3 d-flex flex-column-reverse">
        <input type="password" minlength="6" id="password" #password="ngModel" ngModel name="password" required
          autocomplete="on" class="form-control" />
        <label class="mb-1" for="password">رمز عبور</label>
      </div>
      <p class="color-red mt-2" *ngIf="password.errors?.['required'] && password.touched">رمز عبور را وارد کنید</p>
      <p class="color-red mt-2" *ngIf="password.errors?.['minlength'] && password.touched">رمز عبور باید حداقل ۶ حرف
        باشد
      </p>
      <div class="mt-3">
        <p class="color-red" *ngIf="!form.valid && form.touched">لطفاً اطلاعات فرم را کامل کنید</p>
        <button [disabled]="!form.valid" type="submit"
          class="btn btn-primary me-3">{{ isLoginMode ? 'ورود' : 'ثبت نام' }}</button>
        <button class="btn btn-secondary" type="button" (click)="onSwitchMode()">
          رفتن به {{ isLoginMode ? 'ثبت نام' : 'ورود' }}</button>
      </div>
    </form>
  </div>
</div>